(()=>{"use strict";var e,t={883:(e,t,s)=>{var i=s(260),a=s.n(i);class o extends a().Scene{constructor(){super("PlayScene")}create(){this.isGamerunning=!1,this.gameSpeed=9,this.respawnTime=0,this.groundInitwidth=100,this.jumpVelocity=-1250;const{height:e,width:t}=this.game.config,s=.5*e;this.bgLayer=this.add.layer(),this.startTrigger=this.physics.add.sprite(0,10).setOrigin(0,1).setImmovable(),this.poteGround=this.physics.add.image(0,s+26).setSize(200,20).setOrigin(0,1).setImmovable(),this.ground=this.add.tileSprite(0,s,this.groundInitwidth,26,"ground").setOrigin(0,1),this.objLayer=this.add.layer(),this.pote=this.physics.add.sprite(0,s,"pote-idle").setOrigin(0,1).setCollideWorldBounds(!0).setGravityY(3e3),this.pote.hitPose=!1,this.obstacles=this.physics.add.group(),this.initAnims(),this.initColliders(),this.initStartTrigger(),this.handleInputs()}initColliders(){this.physics.add.collider(this.pote,this.poteGround),this.physics.add.overlap(this.pote,this.obstacles,((e,t)=>{t.hitFlg||(console.log("hit"),t.hitFlg=!0,this.pote.hitPose||(this.pote.hitPose=!0,console.log("hit-pose"),this.timerOneShot=this.time.delayedCall(300,(()=>{this.pote.hitPose=!1}),this)))}),null,this)}initStartTrigger(){const{height:e,width:t}=this.game.config,s=.5*e;this.physics.add.overlap(this.startTrigger,this.pote,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,s);this.startTrigger.disableBody(!0,!0);const e=this.time.addEvent({delay:1e3/60,loop:!0,callbackScope:this,callback:()=>{this.pote.setVelocityX(80),this.pote.play("pote-run",1),this.ground.width<t?this.ground.width+=34:(this.ground.width=t,this.isGamerunning=!0,this.pote.setVelocityX(0),e.remove())}})}),null,this)}initAnims(){this.anims.create({key:"pote-run",frames:this.anims.generateFrameNumbers("pote",{start:1,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"enemy-bird-fly",frames:this.anims.generateFrameNumbers("enemy-bird",{start:0,end:1}),frameRate:6,repeat:-1})}handleInputs(){this.input.on("pointerdown",(()=>{this.pote.body.onFloor()&&this.pote.setVelocityY(this.jumpVelocity)}),this)}placeObstacle(){const{width:e,height:t}=this.game.config,s=.5*t,i=Math.floor(7*Math.random())+1,o=a().Math.Between(500,750);let r;if(console.log(i),i>6){console.log("bird");const t=[22,50];r=this.obstacles.create(e+o,s-t[Math.floor(2*Math.random())],"enemy-bird"),r.play("enemy-bird-fly",1),r.body.height=r.body.height/1.5}else r=this.obstacles.create(e+o,s,`obstacle-${i}`),r.body.offset.y=5;r.setOrigin(0,1).setImmovable(),r.hitFlg=!1,this.objLayer.add(r)}update(e,t){this.isGamerunning&&(this.ground.tilePositionX+=this.gameSpeed,a().Actions.IncX(this.obstacles.getChildren(),-this.gameSpeed),this.respawnTime+=t*this.gameSpeed*.08,this.respawnTime>=1500&&(this.placeObstacle(),this.respawnTime=0),this.obstacles.getChildren().forEach((e=>{e.getBounds().right<0&&this.obstacles.killAndHide(e)})),this.pote.hitPose?this.pote.setTexture("pote-hurt"):this.pote.body.deltaAbsY()>0?(this.pote.anims.stop(),this.pote.setTexture("pote")):this.pote.play("pote-run",!0))}}const r=o;class h extends a().Scene{constructor(){super("PreloadScene")}preload(){this.load.audio("jump","assets/jump.m4a"),this.load.audio("hit","assets/hit.m4a"),this.load.audio("reach","assets/reach.m4a"),this.load.image("ground","assets/ground.png"),this.load.image("dino-idle","assets/dino-idle.png"),this.load.image("dino-hurt","assets/dino-hurt.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png"),this.load.image("cloud","assets/cloud.png"),this.load.image("pote-idle","assets/pote_idle2.png"),this.load.image("pote-hurt","assets/pote_hurt.png"),this.load.spritesheet("star","assets/stars.png",{frameWidth:9,frameHeight:9}),this.load.spritesheet("moon","assets/moon.png",{frameWidth:20,frameHeight:40}),this.load.spritesheet("dino","assets/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assets/dino-down.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bird","assets/enemy-bird.png",{frameWidth:92,frameHeight:77}),this.load.spritesheet("pote","assets/pote_run2.png",{frameWidth:88,frameHeight:94}),this.load.image("obstacle-1","assets/cactuses_small_1.png"),this.load.image("obstacle-2","assets/cactuses_small_2.png"),this.load.image("obstacle-3","assets/cactuses_small_3.png"),this.load.image("obstacle-4","assets/cactuses_big_1.png"),this.load.image("obstacle-5","assets/cactuses_big_2.png"),this.load.image("obstacle-6","assets/cactuses_big_3.png")}create(){this.scene.start("PlayScene")}}const n=h,d={type:a().AUTO,width:900,height:680,pixelArt:!0,transparent:!0,physics:{default:"arcade",arcade:{debug:!0}},scene:[n,r]};new(a().Game)(d)}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,s,a,o)=>{if(!s){var r=1/0;for(l=0;l<e.length;l++){for(var[s,a,o]=e[l],h=!0,n=0;n<s.length;n++)(!1&o||r>=o)&&Object.keys(i.O).every((e=>i.O[e](s[n])))?s.splice(n--,1):(h=!1,o<r&&(r=o));if(h){e.splice(l--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,a,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,o,[r,h,n]=s,d=0;if(r.some((t=>0!==e[t]))){for(a in h)i.o(h,a)&&(i.m[a]=h[a]);if(n)var l=n(i)}for(t&&t(s);d<r.length;d++)o=r[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(l)},s=self.webpackChunkpote_walk=self.webpackChunkpote_walk||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[736],(()=>i(883)));a=i.O(a)})();